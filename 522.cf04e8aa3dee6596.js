"use strict";(self.webpackChunkAngularHero=self.webpackChunkAngularHero||[]).push([[522],{5522:(Ze,L,c)=>{c.r(L),c.d(L,{HttpClientServicesModule:()=>De});var Z=c(9808),x=c(5358),r=c(1223);let k=(()=>{class e{constructor(){this.title="",this.title="Using RxJs with Angular"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-http-client-services"]],decls:8,vars:0,consts:[["routerLink","/http-client-services/http-client-api","routerLinkActive","active"],["routerLink","/http-client-services/rxjs-http","routerLinkActive","active"]],template:function(t,o){1&t&&(r.TgZ(0,"ol")(1,"a",0),r._uU(2," Http API call feature"),r.qZA(),r._uU(3," || "),r.TgZ(4,"a",1),r._uU(5," rxjs - httpcleint, Observable, Promise"),r.qZA(),r.TgZ(6,"ol"),r._UZ(7,"router-outlet"),r.qZA()())},directives:[x.yS,x.Od,x.lC],styles:[""]}),e})();var F=c(4004),N=c(8306);function B(e){switch(e.responseType){case"json":return"response"in e?e.response:JSON.parse(e.responseText);case"document":return e.responseXML;default:return"response"in e?e.response:e.responseText}}class K{constructor(n,t,o,f="download_load"){this.originalEvent=n,this.xhr=t,this.request=o,this.type=f;const{status:p,responseType:h}=t;this.status=null!=p?p:0,this.responseType=null!=h?h:"";const v=t.getAllResponseHeaders();this.responseHeaders=v?v.split("\n").reduce((S,y)=>{const j=y.indexOf(": ");return S[y.slice(0,j)]=y.slice(j+2),S},{}):{},this.response=B(t);const{loaded:l,total:d}=n;this.loaded=l,this.total=d}}const T=(0,c(3888).d)(e=>function(t,o,f){let p;this.message=t,this.name="AjaxError",this.xhr=o,this.request=f,this.status=o.status,this.responseType=o.responseType;try{p=B(o)}catch(h){p=o.responseText}this.response=p}),W=(()=>{function e(n,t){return T.call(this,"ajax timeout",n,t),this.name="AjaxTimeoutError",this}return e.prototype=Object.create(T.prototype),e})();function _(e,n){return H({method:"GET",url:e,headers:n})}function ee(e,n,t){return H({method:"POST",url:e,body:n,headers:t})}function te(e,n){return H({method:"DELETE",url:e,headers:n})}function ne(e,n,t){return H({method:"PUT",url:e,body:n,headers:t})}function re(e,n,t){return H({method:"PATCH",url:e,body:n,headers:t})}const se=(0,F.U)(e=>e.response);function oe(e,n){return se(H({method:"GET",url:e,headers:n}))}const H=(()=>{const e=n=>function ae(e){return new N.y(n=>{var t,o;const f=Object.assign({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},e),{queryParams:p,body:h,headers:v}=f;let l=f.url;if(!l)throw new TypeError("url is required");if(p){let s;if(l.includes("?")){const w=l.split("?");if(2<w.length)throw new TypeError("invalid url");s=new URLSearchParams(w[1]),new URLSearchParams(p).forEach((D,E)=>s.set(E,D)),l=w[0]+"?"+s}else s=new URLSearchParams(p),l=l+"?"+s}const d={};if(v)for(const s in v)v.hasOwnProperty(s)&&(d[s.toLowerCase()]=v[s]);const S=f.crossDomain;!S&&!("x-requested-with"in d)&&(d["x-requested-with"]="XMLHttpRequest");const{withCredentials:y,xsrfCookieName:j,xsrfHeaderName:R}=f;if((y||!S)&&j&&R){const s=null!==(o=null===(t=null==document?void 0:document.cookie.match(new RegExp(`(^|;\\s*)(${j})=([^;]*)`)))||void 0===t?void 0:t.pop())&&void 0!==o?o:"";s&&(d[R]=s)}const C=function ce(e,n){var t;if(!e||"string"==typeof e||function he(e){return"undefined"!=typeof FormData&&e instanceof FormData}(e)||function me(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(e)||function ue(e){return b(e,"ArrayBuffer")}(e)||function pe(e){return b(e,"File")}(e)||function fe(e){return b(e,"Blob")}(e)||function ve(e){return"undefined"!=typeof ReadableStream&&e instanceof ReadableStream}(e))return e;if(function de(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)}(e))return e.buffer;if("object"==typeof e)return n["content-type"]=null!==(t=n["content-type"])&&void 0!==t?t:"application/json;charset=utf-8",JSON.stringify(e);throw new TypeError("Unknown body type")}(h,d),g=Object.assign(Object.assign({},f),{url:l,headers:d,body:C});let i;i=e.createXHR?e.createXHR():new XMLHttpRequest;{const{progressSubscriber:s,includeDownloadProgress:w=!1,includeUploadProgress:D=!1}=e,E=(a,u)=>{i.addEventListener(a,()=>{var m;const A=u();null===(m=null==s?void 0:s.error)||void 0===m||m.call(s,A),n.error(A)})};E("timeout",()=>new W(i,g)),E("abort",()=>new T("aborted",i,g));const z=(a,u)=>new K(u,i,g,`${a}_${u.type}`),q=(a,u,m)=>{a.addEventListener(u,A=>{n.next(z(m,A))})};D&&[P,O,J].forEach(a=>q(i.upload,a,"upload")),s&&[P,O].forEach(a=>i.upload.addEventListener(a,u=>{var m;return null===(m=null==s?void 0:s.next)||void 0===m?void 0:m.call(s,u)})),w&&[P,O].forEach(a=>q(i,a,X));const V=a=>{n.error(new T("ajax error"+(a?" "+a:""),i,g))};i.addEventListener("error",a=>{var u;null===(u=null==s?void 0:s.error)||void 0===u||u.call(s,a),V()}),i.addEventListener(J,a=>{var u,m;const{status:A}=i;if(A<400){let Y;null===(u=null==s?void 0:s.complete)||void 0===u||u.call(s);try{Y=z(X,a)}catch(Le){return void n.error(Le)}n.next(Y),n.complete()}else null===(m=null==s?void 0:s.error)||void 0===m||m.call(s,a),V(A)})}const{user:G,method:$,async:U}=g;G?i.open($,l,U,G,g.password):i.open($,l,U),U&&(i.timeout=g.timeout,i.responseType=g.responseType),"withCredentials"in i&&(i.withCredentials=g.withCredentials);for(const s in d)d.hasOwnProperty(s)&&i.setRequestHeader(s,d[s]);return C?i.send(C):i.send(),()=>{i&&4!==i.readyState&&i.abort()}})}("string"==typeof n?{url:n}:n);return e.get=_,e.post=ee,e.delete=te,e.put=ne,e.patch=re,e.getJSON=oe,e})(),X="download",P="loadstart",O="progress",J="load",le=Object.prototype.toString;function b(e,n){return le.call(e)===`[object ${n}]`}function ye(e,n){if(1&e&&(r.TgZ(0,"ul")(1,"li"),r._uU(2),r.qZA()()),2&e){const t=n.$implicit;r.xp6(2),r.AsE("",t.id,": ",t.name,"")}}let ge=(()=>{class e{constructor(){this.title=""}getData(){H("https://jsonplaceholder.typicode.com/users").pipe((0,F.U)(o=>o.response)).subscribe(o=>{console.log(o),this.data=o})}ngOnInit(){this.getData()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-rxjs-http"]],decls:7,vars:2,consts:[[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(r.TgZ(0,"p"),r._uU(1,"rxjs-http works!"),r.qZA(),r._uU(2," Http call without httpClient , module using rxjs / ajax "),r.TgZ(3,"div")(4,"h3"),r._uU(5),r.qZA(),r.YNc(6,ye,3,2,"ul",0),r.qZA()),2&t&&(r.xp6(5),r.Oqu(o.title),r.xp6(1),r.Q6J("ngForOf",o.data))},directives:[Z.sg],styles:[""]}),e})();var Se=c(2340),je=c(2843),He=c(4482),M=c(5403),Ae=c(4671),Ce=c(1566),xe=c(3532);var Re=c(8421),Pe=c(262),Oe=c(520);let I=(()=>{class e{constructor(t){this.http=t,this.baseUrl=Se.N.httpAPIUrl}getObservableData(){return this.http.get(this.baseUrl).pipe(function Ee(e=1/0){let n;n=e&&"object"==typeof e?e:{count:e};const{count:t=1/0,delay:o,resetOnSuccess:f=!1}=n;return t<=0?Ae.y:(0,He.e)((p,h)=>{let l,v=0;const d=()=>{let S=!1;l=p.subscribe((0,M.x)(h,y=>{f&&(v=0),h.next(y)},void 0,y=>{if(v++<t){const j=()=>{l?(l.unsubscribe(),l=null,d()):S=!0};if(null!=o){const R="number"==typeof o?function Te(e=0,n,t=Ce.P){let o=-1;return null!=n&&((0,xe.K)(n)?t=n:o=n),new N.y(f=>{let p=function we(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;p<0&&(p=0);let h=0;return t.schedule(function(){f.closed||(f.next(h++),0<=o?this.schedule(void 0,o):f.complete())},p)})}(o):(0,Re.Xf)(o(y,v)),C=(0,M.x)(h,()=>{C.unsubscribe(),j()},()=>{h.complete()});R.subscribe(C)}else j()}else h.error(y)})),S&&(l.unsubscribe(),l=null,d())};d()})}(3),(0,Pe.K)(this.handlerror))}getPromiseCall(){const t=this.http.get(this.baseUrl).toPromise();console.log(t),t.then(o=>{console.log("Promise resolved with: "+JSON.stringify(o))},o=>{console.log("Promise rejected with "+JSON.stringify(o))})}fetchDataAsPromise(){return this.http.get(this.baseUrl).toPromise()}handlerror(t){return 0===t.status?console.error("An error occurred:",t.error):console.error(`Backend returned code ${t.status}, body was: `,t.error),(0,je._)("Something bad happened; please try again later.")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Oe.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const be=[{path:"",component:k,children:[{path:"http-client-api",component:(()=>{class e{constructor(t){this.service=t}ngOnInit(){this.getObservableData(),this.fetchData()}getObservableData(){this.service.getObservableData().subscribe(t=>{console.log(t)})}fetchData(){this.service.fetchDataAsPromise().then(t=>{console.log(JSON.stringify(t))}).catch(t=>{console.log("Promise rejected with "+JSON.stringify(t))})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(I))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-http-client"]],decls:6,vars:0,template:function(t,o){1&t&&(r.TgZ(0,"p"),r._uU(1,"http-client works!"),r.qZA(),r.TgZ(2,"h5"),r._uU(3," Http call with Observable "),r.qZA(),r.TgZ(4,"h5"),r._uU(5," Http call with Promise "),r.qZA())},styles:[""]}),e})()},{path:"rxjs-http",component:ge}]}];let Ue=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[x.Bz.forChild(be)],x.Bz]}),e})(),De=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[I],imports:[[Z.ez,Ue]]}),e})()}}]);